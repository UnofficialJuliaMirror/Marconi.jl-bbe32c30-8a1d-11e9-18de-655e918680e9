<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Antennas · Marconi.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../"><img class="logo" src="../../assets/logo.svg" alt="Marconi.jl logo"/></a><h1>Marconi.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../RFAnalysis/">RF Analysis</a></li><li><a class="toctext" href="../FileIO/">File IO</a></li><li><a class="toctext" href="../Plot/">Plotting</a></li><li><a class="toctext" href="../NetworkAnalysis/">Network Analysis</a></li><li class="current"><a class="toctext" href>Antennas</a><ul class="internal"><li><a class="toctext" href="#The-Basics-1">The Basics</a></li><li><a class="toctext" href="#Solving-Radiation-Patterns-1">Solving Radiation Patterns</a></li></ul></li><li><a class="toctext" href="../Metamaterials/">Metamaterials</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../../lib/Public/">Public</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Antennas</a></li></ul><a class="edit-page" href="https://github.com/kiranshila/Marconi.jl/blob/master/docs/src/man/Antennas.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Antennas</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Antennas-1" href="#Antennas-1">Antennas</a></h1><ul><li><a href="#Antennas-1">Antennas</a></li><ul><li><a href="#The-Basics-1">The Basics</a></li><ul><li><a href="#Radiation-Patterns-1">Radiation Patterns</a></li><li><a href="#Plotting-Radiation-Patterns-1">Plotting Radiation Patterns</a></li><li><a href="#Antenna-Arrays-and-Array-Factor-1">Antenna Arrays and Array Factor</a></li></ul><li><a href="#Solving-Radiation-Patterns-1">Solving Radiation Patterns</a></li></ul></ul><h2><a class="nav-anchor" id="The-Basics-1" href="#The-Basics-1">The Basics</a></h2><p>Marconi provides an object for storing and handling radiation pattern data as an interface to working with antennas. This library doesn&#39;t intend to ever replace a full-wave solver, but hopefully will provide functions to get started with designing basic antennas and arrays.</p><p>To try to provide some semblance of consistency, most everything involving antennas will be in the order of <span>$\phi$</span>, <span>$\theta$</span>. This includes the indexing into array data. These angles are in degrees for all of the functions in Marconi.</p><h3><a class="nav-anchor" id="Radiation-Patterns-1" href="#Radiation-Patterns-1">Radiation Patterns</a></h3><p>This <code>RadiationPattern</code> object can be constructed in a few ways. The default constructor accepts a range or array of azimuth from the x-axis - <span>$\phi$</span>, the elevation towards -z from the z axis <span>$\theta$</span>, and a 2D matrix of the pattern data represented by those spherical points. This data matrix is stored in dBi, or dB above isotropic.</p><p>To construct an isotropic radiator, for example:</p><pre><code class="language-julia">using Marconi

ϕ = 0:360
θ = 0:180
data = zeros(Float64,(length(ϕ),length(θ)))

isotropic = RadiationPattern(ϕ,θ,data)</code></pre><pre><code class="language-none">65341-Element Radiation Pattern
 Φ: 0 - 360 deg in 1 deg steps
 θ: 0 - 180 deg in 1 deg steps
</code></pre><p>The patterns we can generate within Marconi are limited, so most of the pattern data will come from outside sources. Most of what I use this for is importing simulated data from HFSS. This format is a simple CSV file, following a phi,theta,gain format with phi swept first. One can bring in data from an antenna chamber with the same function, as long as the data is evenly sampled.</p><h3><a class="nav-anchor" id="Plotting-Radiation-Patterns-1" href="#Plotting-Radiation-Patterns-1">Plotting Radiation Patterns</a></h3><p>We can plot these radiation patterns in 2D and 3D with the Plotly.js backend. These plots are fully interactive and the objects returned by these plot functions can be modified as typical PlotlyJS objects.</p><p>To plot a polar 2D plot, call the <code>plotPattern2D</code> function with the pattern and a <code>ϕ</code> to slice.</p><p>FIXME</p><h3><a class="nav-anchor" id="Antenna-Arrays-and-Array-Factor-1" href="#Antenna-Arrays-and-Array-Factor-1">Antenna Arrays and Array Factor</a></h3><p>Another very important aspect of working with antennas, is utilizing multiple antennas to form an array. The mechanics of arrays are quite simple, and the analysis of the math can be found in any introductory antenna theory book.</p><p>In short, an array can be analyzed by first looking at the Array Factor. The Array Factor is the &quot;Radiation Pattern&quot; of an array with isotropic antennas located at certain positions with certain phasor excitations. This is useful as it removes the element pattern from the analysis so one can just evaluate the performance of the spacing and phasing itself.</p><p>To construct an array, one can provide the locations and excitations directly into the <code>ArrayFactor</code> constructor.</p><pre><code class="language-julia">using Marconi

AF = ArrayFactor([(0,0,0),(1,1,1)],[∠(1,0),∠(1,35)])</code></pre><pre><code class="language-none">ArrayFactor(Tuple{Real,Real,Real}[(0, 0, 0), (1, 1, 1)], Complex[1.0+0.0im, 0.819152+0.573576im])</code></pre><p>This creates an array factor object for antennas located at (0,0,0) and (1,1,1) with excitations 1∠0 and 1∠35.</p><p>To evaluate the directivity of the Array Factor at a given spherical point, we perform the following calculation:</p><p>First we construct the steering vector</p><div>\[V = e^{-jk \cdot r}\]</div><p>Where <span>$r$</span> is the vector to each antenna location, and <span>$k$</span> is the wave vector in spherical.</p><p>Given the vector of excitations, we simply dot the steering vector with the excitations to get linear directivity.</p><p>In Marconi, use the <code>ArrayFactor</code> functor to generate this at a given, <code>ϕ</code> and <code>θ</code>, and frequency <code>freq</code>.</p><pre><code class="language-julia">D = AF(45,45,1e9)</code></pre><pre><code class="language-none">2.0034041998413845</code></pre><p>To work with the AF as a pattern, we can evaluate this AF functor at every phi and theta in a list by using the <code>RadiationPattern</code> constructor for an <code>ArrayFactor</code>.</p><pre><code class="language-julia">Pattern = RadiationPattern(AF,0:360,0:180,1e9)</code></pre><pre><code class="language-none">65341-Element Radiation Pattern
 Φ: 0 - 360 deg in 1 deg steps
 θ: 0 - 180 deg in 1 deg steps
</code></pre><p>We can then plot this as if it were a regular <code>RadiationPattern</code>:</p><pre><code class="language-">plotPattern2D(AF,0)</code></pre><pre><code class="language-">plotPattern3D(AF,0)</code></pre><h2><a class="nav-anchor" id="Solving-Radiation-Patterns-1" href="#Solving-Radiation-Patterns-1">Solving Radiation Patterns</a></h2><footer><hr/><a class="previous" href="../NetworkAnalysis/"><span class="direction">Previous</span><span class="title">Network Analysis</span></a><a class="next" href="../Metamaterials/"><span class="direction">Next</span><span class="title">Metamaterials</span></a></footer></article></body></html>
